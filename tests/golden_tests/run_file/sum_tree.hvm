data Tree = (Leaf x) | (Node x0 x1)

add = 位a 位b (+ a b)

gen = 位n match n {
  0: (Leaf 1)
  +: (Node (gen n-1) (gen n-1))
}

sum = 位t
  match t {
    Leaf: t.x
    Node: (add (sum t.x0) (sum t.x1))
  }

main = (sum (gen 8))